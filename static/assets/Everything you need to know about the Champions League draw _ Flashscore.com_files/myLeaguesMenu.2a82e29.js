"use strict";(self.webpackChunkflashscore=self.webpackChunkflashscore||[]).push([[3702],{57640:(e,t,r)=>{r.d(t,{j4:()=>i});var a="data_ttl",s="paths-migrated-from-cookies";class i{static get(e){if(i.isValidKey(e)){var t=window.localStorage.getItem(e);if(t){var r=i.getValidToForLocalStorage(e);return i.isValid(r)||0===r?t:null}}return null}static store(e,t,r){void 0===r&&(r=0),i.isValidKey(e)&&(i.storeValidToForLocalStorage(e,r),window.localStorage.setItem(e,t))}static drop(e){i.isValidKey(e)&&(i.deleteValidToForLocalStorage(e),window.localStorage.removeItem(e))}static getSession(e){if(i.isValidKey(e)){var t=i.getValidToForSession(e);return i.isValid(t)||0===t?window.sessionStorage.getItem(e):null}return null}static storeSession(e,t,r){void 0===r&&(r=0),i.isValidKey(e)&&(i.storeValidToForSession(e,r),window.sessionStorage.setItem(e,t))}static deleteSession(e){i.isValidKey(e)&&(i.deleteValidToForSession(e),window.sessionStorage.removeItem(e))}static getCookie(e){if(document.cookie.split(";").filter((t=>t.trim().startsWith(e+"="))).length){var t=new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$");return document.cookie.replace(t,"$1")}return null}static storeCookie(e,t,r,a){void 0===r&&(r=31536e3),void 0===a&&(a=""),""===t&&(r=-86400);var s=i.getExpiresDate(r),n=i.getPath(a);document.cookie=e+"="+escape(t)+";"+s+n}static deleteCookie(e){i.storeCookie(e,"")}static migrate(){var e=window.localStorage.getItem(s)||"",t="<"+(window.location.pathname.replace(/\\/g,"/").replace(/\/[^/]*$/,"")||"/")+">";e.includes(t)||(document.cookie.split(";").filter((e=>{if(e){var[t,r]=e.split("=");window.localStorage.setItem(t.trim(),r)}})),window.localStorage.setItem(s,e+t))}static isValidKey(e){return e!==a}static storeValidToForLocalStorage(e,t){i.storeValidTo(e,t,window.localStorage)}static storeValidToForSession(e,t){i.storeValidTo(e,t,window.sessionStorage)}static storeValidTo(e,t,r){if(t){var s=r.getItem(a)||"{}",n=i.getTimestampNow();try{var o=JSON.parse(s);o[e]=n+t,r.setItem(a,JSON.stringify(o))}catch(s){r.setItem(a,JSON.stringify({[e]:n+t}))}}}static deleteValidToForLocalStorage(e){i.deleteValidTo(e,window.localStorage)}static deleteValidToForSession(e){i.deleteValidTo(e,window.sessionStorage)}static deleteValidTo(e,t){var r=t.getItem(a);if(r)try{var s=JSON.parse(r);delete s[e],t.setItem(a,JSON.stringify(s))}catch(e){t.setItem(a,"{}")}}static getValidToForLocalStorage(e){return i.getValidTo(e,window.localStorage)}static getValidToForSession(e){return i.getValidTo(e,window.sessionStorage)}static getValidTo(e,t){var r=t.getItem(a);if(r)try{var s=JSON.parse(r);return s[e]?s[e]:0}catch(e){return 0}return 0}static isValid(e){return e>=i.getTimestampNow()}static getTimestampNow(){return Math.round(Date.now()/1e3)}static getExpiresDate(e){if(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),"expires="+t.toUTCString()+";"}return""}static getPath(e){return e?"path="+e:""}}},29160:(e,t,r)=>{r.d(t,{F:()=>a});var a=e=>new Promise((t=>e.call(t)))},32367:(e,t,r)=>{var a=r(67294),s=r(20745),i=(0,a.createContext)(null);function n(){var e=(0,a.useContext)(i);if(!e)throw new Error("MyLeaguesDIContext was not initialized");return e}var o=r(76269);function l(){return Math.round(Date.now()/1e3)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u.apply(this,arguments)}class c{constructor(e,t){this.fetcher=void 0,this.feedNameFactory=void 0,this.fetcher=e,this.feedNameFactory=t}fetch(e){return this.fetcher.fetch(this.feedNameFactory(e)).then((e=>JSON.parse(e.getBody()))).then((t=>u(u({},t),{},{id:e,from:l()}))).catch((()=>null))}}class g{constructor(e){this.leagueId=void 0,this.leagueId=e}getMyLeagueFeed(){return"ml_"+this.leagueId}}var d=r(57640);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v.apply(this,arguments)}class h{constructor(e,t,r,a){this.myLeagues=void 0,this.fetcher=void 0,this.languageCode=void 0,this.topLeagues=void 0,this.storageKey=void 0,this.myLeaguesData=void 0,this.myLeagueIdRegex=/^\d+_\d+_[a-zA-Z0-9]{8}$/,this.timeToLive=86400,this.loadLeague=e=>{var t=this.myLeaguesData[e];return t&&t.from+this.timeToLive>l()?Promise.resolve(t):this.fetcher.fetch(e).then((e=>(e&&this.storeLeague(e),e)))},this.sort=e=>e.filter((e=>!!e)).sort(((e,t)=>{var[r]=e.id.split("_"),[a]=t.id.split("_");return r===a?e.menuOrder-t.menuOrder:Number(r)-Number(a)})),this.myLeagues=e,this.fetcher=t,this.languageCode=r,this.topLeagues=a,this.storageKey="myLeaguesMenu_"+r,this.clearHistoricallyStoredData();var s=d.j4.get(this.storageKey),i=this.parseStoredData(s);this.myLeaguesData=v(v({},i),a),this.storeLeagues(this.myLeaguesData)}clearHistoricallyStoredData(){d.j4.drop("myLeaguesMenu"),"[]"===d.j4.get(this.storageKey)&&d.j4.drop(this.storageKey)}parseStoredData(e){try{return this.filterStorageData(JSON.parse(e||"{}"))}catch(e){return{}}}filterStorageData(e){return Object.entries(e).filter((e=>{var[t]=e;return this.myLeagueIdRegex.test(t)})).reduce(((e,t)=>{var[r,a]=t;return v(v({},e),{},{[r]:v({id:r},a)})}),{})}storeLeagues(e){d.j4.store(this.storageKey,JSON.stringify(e))}storeLeague(e){this.myLeaguesData=v(v({},this.myLeaguesData),{},{[e.id]:e}),this.storeLeagues(this.myLeaguesData)}getLeagues(){var e=this.myLeagues.getTopLabelKeys();return Promise.all(e.map(this.loadLeague)).then(this.sort)}}var m=r(86515);class f{constructor(e,t,r,a){this.dataObservable=new m.X(null);var s=()=>{t.getLeagues().then((e=>this.dataObservable.next(e)))};s(),e.registerCallback("add",s),e.registerCallback("remove",s),a.then((e=>e.subscribe(s))),r.storage.getInnerDataObservable(["myLeagues"]).subscribe(s)}getObservable(){return this.dataObservable}}class p{constructor(e,t,r,a,s,i){void 0===r&&(r={}),this.environment=void 0,this.leftMenuTopLeagues=void 0,this.pageType=void 0,this.date=void 0,this.observableMyLeaguesStore=void 0,this.myLeagues=void 0,this.environment=t,this.leftMenuTopLeagues=r,this.pageType=a,this.date=i,this.myLeagues=this.environment.getMyLeaguesObject();var n=new o.J(e.get("app","project","id"),e.get("app","feed_sign")||"",window.fetch.bind(window),e.get("app","url_prefix")||"",e.get("app","feed_resolver"),this.date,"/"+e.get("cache","feed_x")+"/req/",location.origin),l=new c(n,(e=>new g(e).getMyLeagueFeed())),u=new h(this.myLeagues,l,e.get("app","lang","web"),r);this.observableMyLeaguesStore=new f(this.myLeagues,u,t.getLsLoginClient(),s)}getMyLeagues(){return this.myLeagues}getMyLeaguesStore(){return this.observableMyLeaguesStore}getPredefinedTopLeagues(){return this.leftMenuTopLeagues}getPageType(){return this.pageType}getTooltip(){return this.environment.getTooltipObject()}getIsResponsive(){return this.environment.isResponsive()}}var E=r(26561),y=r(33936);function _(){var e=(0,E.I)(),[t,r]=e.translate("TRANS_MY_LEAGUES_LEFT_MENU_TEXT").split("[*]");return a.createElement("div",{className:"last myLeagueInfo leftMenu__myLeagueInfo"},t,a.createElement("span",null,a.createElement("svg",{className:"leftMenu__myLeagueInfoStar"},a.createElement("use",{xlinkHref:"/res/_fs/image//13_symbols/action.svg#star"}))),r)}var w=r(31511);function T(e){var{leagueId:t}=e,r=n(),s=(0,E.I)(),i=r.getMyLeagues(),o=(0,y.Z)().get("app","pinned","enabled"),l=o?"/res/_fs/image/13_symbols/action.svg#pin":"/res/_fs/image/13_symbols/action.svg#star",u=(0,w.l)(r.getTooltip(),r.getIsResponsive(),!1);return a.createElement("span",{title:""+(o?s.translate("TRANS_MY_LEAGUES_UNPIN"):s.translate("TRANS_MY_LEAGUES_REMOVE")),className:(o?"pin pinMyLeague":"toggleMyLeague")+" active",onClick:e=>{e.stopPropagation(),i.toggleTop(t)},ref:u},a.createElement("svg",null,a.createElement("use",{xlinkHref:l})))}var L=r(28249);function S(e){var{league:{flagId:t}}=e,r=function(e){switch(e){case"9011":case"3473162":return"man";case"9012":case"3473164":return"woman";case"9021":case"3473163":return"men-double";case"9022":case"3473165":return"women-double";case"9030":case"3473166":case"3473167":return"mix";default:return null}}(t);return r?a.createElement("svg",{className:"leftMenu__icon"},a.createElement("use",{xlinkHref:"/res/_fs/image/13_symbols/others.svg#"+r})):a.createElement("span",{className:(0,L.A)("leftMenu__flag","flag","fl_"+t)})}var b=r(86894);function P(e){var{league:t}=e;return a.createElement("div",{className:"leftMenu__item",title:t.title},a.createElement("a",{className:"leftMenu__href",href:(0,b.m)(t.url)},a.createElement(S,{league:t}),a.createElement("span",{className:"leftMenu__text"},t.name)),a.createElement(T,{leagueId:t.id}))}var O=r(65200),N=r(20017),I=r(90001);function M(){var e=n(),t=(0,y.Z)().get("app","myleagues","position_of_banner"),r=Object.keys(e.getPredefinedTopLeagues()).length,s=![I.x.PAGE_TYPE_TOURNAMENT,I.x.PAGE_TYPE_TEAM,I.x.PAGE_TYPE_CATEGORY].includes(e.getPageType());return a.createElement("div",{className:"leftSkel__cont ska__chp--dark"},x(s?t:Math.min(t,r)),s&&a.createElement(k,null),r>t&&x(r-t))}var x=e=>Array(e).fill(null).map(((e,t)=>a.createElement(A,{key:t})));function A(){return a.createElement("div",{className:"leftSkel__item"})}function k(){return a.createElement("div",{className:"leftSkel__banner"},a.createElement("div",{className:"leftSkel__banner--item"}),a.createElement("div",{className:"leftSkel__banner--text"}))}function V(){var e=n().getMyLeaguesStore(),t=(0,O.H)(e.getObservable());return null===t?a.createElement(M,null):a.createElement(C,{myLeagues:t})}function C(e){var{myLeagues:t}=e,[r,s]=(0,N.v)([t.map((e=>a.createElement(P,{key:e.id,league:e})))],2),i=(0,a.useRef)(null);return(0,a.useLayoutEffect)((()=>{var e,t,r,a=i.current,s=null==(e=document.getElementById("my-leagues-list"))||null==(t=e.parentElement)?void 0:t.getElementsByClassName("banner")[0];!s||null!=a&&null!=(r=a.previousElementSibling)&&r.isEqualNode(s)||null==a||a.before(s)}),[s]),a.createElement(a.Fragment,null,a.createElement("div",null,r.length?r:a.createElement(_,null)),a.createElement("div",{ref:i},s))}var j=r(29160);cjs.Api.loader.get("cjs").call((e=>{((e,t,r,n,o,l,u)=>{var c=document.getElementById("my-leagues-list");if(c){var g=new p(t,r,n,o.getPageType(),l,u);r.getMyLeaguesObject().delegateTooltips(),(0,s.s)(c).render(a.createElement(E.B.Provider,{value:e},a.createElement(y.E.Provider,{value:t},a.createElement(i.Provider,{value:g},a.createElement(V,null)))))}})(e.dic.get("util_trans"),e.Api.config,e.dic.get("utilEnvironment"),e.leftMenuTopLeagues,e.dic.get("util_page"),(0,j.F)(e.Api.loader.get("loggedInObservable")),e.dic.get("util_date"))}))},20017:(e,t,r)=>{function a(e,t){var r;void 0===t&&(t=0);var a=[...Array.from({length:t},(()=>[]))],s=0,i=!0;return e.forEach((e=>{e.forEach(((e,r)=>{var n,o;i&&(((null==(n=a[s])?void 0:n.length)>=10||9===(null==(o=a[s])?void 0:o.length)&&0===r)&&s++,t&&s===t&&(i=!1,s--));a[s]||(a[s]=[]),a[s].push(e)}))})),s>0&&1===(null==(r=a[s])?void 0:r.length)&&(a[s-1].push(a[s][0]),a[s]=[]),a}r.d(t,{v:()=>a})},65200:(e,t,r)=>{r.d(t,{H:()=>s,Q:()=>i});var a=r(67294);function s(e){return i(e,e.getValue())}function i(e,t){var[r,s]=a.useState(t);return a.useEffect((()=>{var t=e.subscribe(s);return()=>t.unsubscribe()}),[e]),r}},70186:(e,t,r)=>{r.d(t,{O:()=>i,P:()=>s});var a=r(67294);function s(e,t,r){var s=(0,a.useRef)(null);(0,a.useEffect)((()=>{s.current=t}),[t]),(0,a.useEffect)((()=>{var t=r.current,a=e=>s.current&&s.current(e);return null==t||t.addEventListener(e,a),()=>{null==t||t.removeEventListener(e,a)}}),[e,r])}function i(e,t,r){var s=(0,a.useRef)(t);(0,a.useEffect)((()=>{s.current=t}),[t]),(0,a.useEffect)((()=>{var t=e=>s.current&&s.current(e);return r.addEventListener(e,t),()=>r.removeEventListener(e,t)}),[r,e])}},31511:(e,t,r)=>{r.d(t,{l:()=>i});var a=r(67294),s=r(70186);function i(e,t,r){void 0===r&&(r=!1);var[i,n]=(0,a.useState)(!1),o=(0,a.useRef)(null),l=(0,a.useCallback)((r=>{t||(r.stopPropagation(),null==e||e.show(o.current,r),n(!0))}),[t,e]),u=(0,a.useCallback)((r=>{t||(r.stopPropagation(),null==e||e.hide(o.current,r),n(!1))}),[t,e]),c=(0,a.useCallback)((a=>{r&&t&&n((t=>t?(null==e||e.hide(o.current,a),!1):(null==e||e.show(o.current,a),!0)))}),[t,r,e]);return(0,s.P)("mouseenter",l,o),(0,s.P)("mouseleave",u,o),(0,s.P)("click",c,o),(0,a.useEffect)((()=>()=>null==e?void 0:e.hide_all()),[e]),o}},33936:(e,t,r)=>{r.d(t,{E:()=>s,Z:()=>i});var a=r(67294);var s=a.createContext(new class{get(){}initConfig(e){}});function i(){var e=(0,a.useContext)(s);if(null===e)throw new Error("Config context was not initialized.");return e}},26561:(e,t,r)=>{r.d(t,{B:()=>s,I:()=>i});var a=r(67294),s=(0,a.createContext)(null),i=()=>{var e=(0,a.useContext)(s);if(null===e)throw new Error("TransContext was not initialized.");return e}},28249:(e,t,r)=>{r.d(t,{A:()=>a});var a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e=>e)).join(" ")}},31012:(e,t,r)=>{r.d(t,{m:()=>o,M:()=>n});var a=r(57640);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s.apply(this,arguments)}var i="last_geoip";class n{constructor(e,t){this.body=void 0,this.status=void 0,this.body=e,this.status=t}getBody(){return this.body}getStatus(){return this.status}getProperties(){}}class o{constructor(e,t,r,s,n,o,l,u){void 0===l&&(l="/x/feed/"),this.projectId=void 0,this.feedSignature=void 0,this.fetchFunction=void 0,this.urlPrefix=void 0,this.feedResolver=void 0,this.utilDate=void 0,this.pathPrefix=void 0,this.locationOrigin=void 0,this.resolveLocationOrigin=()=>{if(this.locationOrigin)return this.locationOrigin;var e=a.j4.get(i);return((e,t,r,a)=>{var{countries:s,enabled:i,urls:{local:n,global:o}}=e;return i?a&&s.includes(a)?n+"/"+t:o+"/"+t:location.origin.replace("//www.","//d.").replace("//m.","//d.")+r})(this.feedResolver,this.projectId,this.urlPrefix,e)},this.setServerTime=e=>{var t,r=new Date(e.headers.get("date")||"").getTime();isNaN(r)||(null==(t=this.utilDate)||t.setServerTimestamp(Math.floor(r/1e3)))},this.projectId=e,this.feedSignature=t,this.fetchFunction=r,this.urlPrefix=s,this.feedResolver=n,this.utilDate=o,this.pathPrefix=l,this.locationOrigin=u}getUrl(e){return this.resolveLocationOrigin()+this.pathPrefix+e}fetch(e,t){var r={"x-fsign":this.feedSignature};return this.fetchFunction(this.getUrl(e),s(s({},t),{},{headers:s(s({},t&&t.headers||{}),r)})).then((e=>(this.storeGeoIpFromResponse(e),this.resolveFetchedData(e))))}storeGeoIpFromResponse(e){var t=e.headers.get("x-geoip2-country-code");t&&a.j4.store(i,t)}}},76269:(e,t,r)=>{r.d(t,{J:()=>n});var a=r(31012);function s(e,t,r,a,s,i,n){try{var o=e[i](n),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(a,s)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var n=e.apply(t,r);function o(e){s(n,a,i,o,l,"next",e)}function l(e){s(n,a,i,o,l,"throw",e)}o(void 0)}))}}class n extends a.m{constructor(e,t,r,s,n,o,l,u){var c;super(e,t,r,s,n,o,l,u),c=this,this.resolveFetchedData=i((function*(e){return c.setServerTime(e),new a.M(yield e.text(),e.status)}))}}},90001:(e,t,r)=>{var a;r.d(t,{x:()=>a}),function(e){e.PAGE_TYPE_CATEGORY="category_page",e.PAGE_TYPE_COMMON="common_page",e.PAGE_TYPE_MIXED="mixed_page",e.PAGE_TYPE_PLAYER="player_page",e.PAGE_TYPE_RANKING="ranking_page",e.PAGE_TYPE_SERIES="series_page",e.PAGE_TYPE_SPORT="sport_page",e.PAGE_TYPE_TEAM="team_page",e.PAGE_TYPE_TOURNAMENT="tournament_page",e.PAGE_TYPE_DRAW="draw_page",e.PAGE_TYPE_MYFS="myfs_page",e.PAGE_TYPE_UNKNOWN="unknown"}(a||(a={}))},86894:(e,t,r)=>{r.d(t,{m:()=>a});var a=e=>(e+"/").replace(/\/\/+/g,"/")}},e=>{e.O(0,[1216],(()=>{return t=32367,e(e.s=t);var t}));e.O()}]);